/*!
 * Start Bootstrap - Resume v5.0.8 (https://startbootstrap.com/template-overviews/resume)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-resume/blob/master/LICENSE)
 */
/*


/* global localStorage */
function mult(x,y){
    return x*y
  }
  
  console.log('SCRIPT START')
  console.log('Declare testable functions......................')
  function mult(x, y) { return x * y }
  console.log('Defined mul=' + mult)
  console.log('Declare event listeners .......................')
  window.addEventListener('load', (event) => {
    console.log('  Starting initialization ')
    
    if (localStorage.getItem('firstInput')) {
      document.querySelector('#firstInput').value = parseInt(localStorage.firstInput)
      console.log(`  Stored firstInput = ${localStorage.firstInput}`)
    }
    if (localStorage.getItem('secondInput')) {
      document.querySelector('#secondInput').value = parseInt(localStorage.secondInput)
      console.log(`  Stored secondInput = ${localStorage.secondInput}`)
    }
    console.log('  Finished initialization')
  })
  document.querySelector('#addButton').addEventListener('click', () => {
    console.log('  Starting clicker click handler')
    const origCount = parseInt(localStorage.getItem('countOfClicks')) || 0
    
    const i = parseInt(document.querySelector('#firstInput').value)
    console.log('i=' + i)
    const j = parseInt(document.querySelector('#secondInput').value)
    console.log('j=' + j)
    const ct = origCount + 1
    const ans = `Area of the rectangle is ${mult(i, j)} and this has been run ${ct} times.`
    document.querySelector('#result').innerHTML = ans
    localStorage.setItem('countOfClicks', ct)  // define a string key to store + its value
    localStorage.setItem('firstInput', i)
    localStorage.setItem('secondInput', j)
    console.log('  Finished clicker click handler')
  })
  document.querySelector('#wiper').addEventListener('click', () => {
    console.log('  Starting wiper click handler')
    localStorage.removeItem('countOfClicks')
    
    localStorage.removeItem('firstInput')
    localStorage.removeItem('secondInput')
    console.log('  Finished wiper click handler - localStorage entries removed')
  })
  console.log('SCRIPT END')
  
  
  document.addEventListener('click', event => {
    if (event.target && event.target.id === 'addButton') { updateWithAdd(event) }
  })
  